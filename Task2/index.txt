Let's say we're using a non-relational document database like MongoDB. In order to implement a friend / friend request system each user document would have a key value pair (friends : [ ]) and a key value pair (friendRequests : [ ]). The friends key has a value of an array containing the user id's of that user's friends. The friendRequests key has a value of an array containing the user id's of the other users that are requesting to be thas user's friend.

On the site if one were viewing another's profile there would be a button "Send friend request." This button would add the current user's id to the selected users friendRequests array. On a user's homepage they would be shown a list of users that are requesting to be their friend. This list would be generated using the friendRequests array associated with their account in the database. If they accept the friend request the requesting user's id will be removed from their friendRequests array and added to their friends array. If They deny their request the id will just be removed from their friendRequests array.

It would most likely become necessary to prevent someone from making repeated friend requests to the same person. To achieve this each userâ€™s document could have a key value pair (notFriend: [ ]) with a list of users that can no longer make a friend request. Each time a friend request is made it will be checked against this list before the database is modified. 	
